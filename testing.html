<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Частицы с паутиной</title>
<style>
  html, body {
    margin: 0; padding: 0; overflow: hidden; height: 100%;
    background: #0a0e1a;
    font-family: 'Century Gothic', sans-serif;
  }
  .particle {
    position: absolute;
    width: 5px; height: 5px;
    border-radius: 50%;
    background: rgba(0, 255, 255, 0.6);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
    pointer-events: none;
  }
  .content {
    position: relative; z-index: 10; color: white; text-align: center;
    max-width: 600px; margin: 0 auto; top: 50%; transform: translateY(-50%);
    background: rgba(255,255,255,0.05); padding: 40px; border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);
  }
  canvas {
    position: fixed; top: 0; left: 0; pointer-events: none; z-index: 5;
  }
</style>
</head>
<body>

<div class="content">
  <h1>Neon Drift с паутиной</h1>
  <p>Частицы движутся, реагируют на курсор и соединяются линиями, если рядом.</p>
</div>

<canvas id="network"></canvas>

<script>
  const canvas = document.getElementById('network');
  const ctx = canvas.getContext('2d');
  let W, H;

  function resize() {
    W = window.innerWidth;
    H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;
  }
  window.addEventListener('resize', resize);
  resize();

  const particleCount = 200;
  const particles = [];

  for(let i=0; i<particleCount; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    document.body.appendChild(p);
    const x = Math.random()*W;
    const y = Math.random()*H;
    particles.push({
      el: p,
      x, y,
      dx: (Math.random()-0.5)*0.5,
      dy: (Math.random()-0.5)*0.5
    });
    p.style.left = `${x}px`;
    p.style.top = `${y}px`;
  }

  let mouse = {x: -9999, y: -9999};
  document.addEventListener('mousemove', e => {
    mouse.x = e.clientX;
    mouse.y = e.clientY;
  });

  function animate() {
    ctx.clearRect(0, 0, W, H);

    // Обновляем частицы
    for(let p of particles) {
      p.x += p.dx;
      p.y += p.dy;

      if(p.x < 0) { p.x = 0; p.dx = -p.dx; }
      if(p.x > W) { p.x = W; p.dx = -p.dx; }
      if(p.y < 0) { p.y = 0; p.dy = -p.dy; }
      if(p.y > H) { p.y = H; p.dy = -p.dy; }

      // Отталкиваем от мыши
      const distX = p.x - mouse.x;
      const distY = p.y - mouse.y;
      const dist = Math.sqrt(distX*distX + distY*distY);
      if(dist < 100) {
        const angle = Math.atan2(distY, distX);
        p.x += Math.cos(angle)*3;
        p.y += Math.sin(angle)*3;
      }

      p.el.style.left = `${p.x}px`;
      p.el.style.top = `${p.y}px`;
    }

    // Рисуем линии между близкими частицами
    for(let i=0; i<particleCount; i++) {
      for(let j=i+1; j<particleCount; j++) {
        const p1 = particles[i];
        const p2 = particles[j];
        const dx = p1.x - p2.x;
        const dy = p1.y - p2.y;
        const dist = Math.sqrt(dx*dx + dy*dy);

        if(dist < 120) {
          ctx.strokeStyle = `rgba(0, 255, 255, ${1 - dist/120})`;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(p1.x + 2.5, p1.y + 2.5);
          ctx.lineTo(p2.x + 2.5, p2.y + 2.5);
          ctx.stroke();
        }
      }
    }

    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>
